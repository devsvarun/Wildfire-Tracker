(this["webpackJsonpwildfire-tracker"]=this["webpackJsonpwildfire-tracker"]||[]).push([[0],{75:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(63),o=n.n(i),s=(n(75),n(60)),r=n.n(s),l=n(64),u=n(6),d=n(17),j=n(61),b=n(28),h=n(46),f=n.n(h),m=n(33),O=n.n(m),v=n(4),x=function(e){var t=e.element,n=e.onClick,c=null,a="";switch(t){case"wildfires":c=O.a,a="L-Icon-Red";break;case"volcanoes":c=f.a,a="L-Icon-Green";break;default:c=O.a}return Object(v.jsx)("div",{className:"location-marker",onClick:n,children:Object(v.jsx)(b.a,{icon:c,className:"location-icon ".concat(a)})})},g=n(66),p=n.n(g),w=function(e){var t=e.info,n=e.setClosedInfo;return Object(v.jsxs)("div",{className:"location-info",children:[Object(v.jsx)(b.a,{icon:p.a,className:"test",onClick:function(){n(!0)}}),Object(v.jsx)("h2",{children:"Event Location Info"}),Object(v.jsxs)("ul",{children:[Object(v.jsxs)("li",{children:["ID: ",Object(v.jsx)("strong",{children:t.id})]}),Object(v.jsxs)("li",{children:["TITLE: ",Object(v.jsx)("strong",{children:t.title})]})]})]})},k=function(e){var t=e.lat,n=e.lng,a=e.zoom,i=e.eventData,o=e.theme,s=e.eventList,r=e.closedInfo,l=e.setClosedInfo,b=Object(c.useState)(null),h=Object(u.a)(b,2),f=h[0],m=h[1],O=Object(c.useState)(null),g=Object(u.a)(O,2),p=g[0],k=g[1],S=l,I=Object(c.useState)({width:"100%",height:"100%",latitude:t,longitude:n,zoom:a}),C=Object(u.a)(I,2),z=C[0],L=C[1],M=Object(c.useMemo)((function(){return i.map((function(e){return s.includes(e.categories[0].id)?Object(v.jsx)(j.a,{latitude:e.geometry[0].coordinates[1],longitude:e.geometry[0].coordinates[0],children:Object(v.jsx)(x,{element:e.categories[0].id,onClick:function(){k({id:e.id,title:e.title})}})}):null}))}),[i,s,S]);Object(c.useEffect)((function(){(null===p||void 0===p?void 0:p.id)===(null===f||void 0===f?void 0:f.id)&&f?S((function(e){return!e})):(m(p),S(!1))}),[p]);var N="";return N=o?"mapbox://styles/mapbox/dark-v10":"mapbox://styles/mapbox/light-v10",Object(v.jsxs)("div",{className:"map",children:[Object(v.jsx)(j.b,Object(d.a)(Object(d.a)({mapStyle:N,mapboxApiAccessToken:"pk.eyJ1IjoiZGV2c3ZhcnVuIiwiYSI6ImNsMHk1ZzUwMDBjeWwzam8xeHJiaGc3cmkifQ.vFYhJtxz0W9ubCrpZcraRg"},z),{},{onViewportChange:function(e){return L(Object(d.a)(Object(d.a)({},e),{},{height:"100%",width:"100%"}))},onMove:function(e){return L(e.viewport)},children:M})),f&&!r&&Object(v.jsx)(w,{info:f,setClosedInfo:l})]})};k.defaultProps={lat:37.7577,lng:-122.4376,zoom:0};var S=k,I=n.p+"static/media/spinner.08e1278c.gif",C=function(){return Object(v.jsxs)("div",{className:"loader",children:[Object(v.jsx)("img",{src:I,alt:"loading"}),Object(v.jsx)("h2",{children:"Fetching Data"})]})},z=function(){return Object(v.jsx)("header",{className:"header",children:Object(v.jsxs)("h1",{children:[Object(v.jsx)(b.a,{icon:O.a})," Wildfire Tracker (NASA API)"]})})},L=n(18),M=n(108),N=n(106),y=n(105),A=Object(L.a)(y.a)((function(e){var t=e.theme;return{width:62,height:34,padding:7,"& .MuiSwitch-switchBase":{margin:1,padding:0,transform:"translateX(6px)","&.Mui-checked":{color:"#fff",transform:"translateX(22px)","& .MuiSwitch-thumb:before":{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z"/></svg>\')')},"& + .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===t.palette.mode?"#8796A5":"#aab4be"}}},"& .MuiSwitch-thumb":{backgroundColor:"dark"===t.palette.mode?"#003892":"#001e3c",width:32,height:32,"&:before":{content:"''",position:"absolute",width:"100%",height:"100%",left:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z"/></svg>\')')}},"& .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===t.palette.mode?"#8796A5":"#aab4be",borderRadius:10}}}));function F(e){var t=e.setTheme;return Object(v.jsx)(M.a,{children:Object(v.jsx)(N.a,{control:Object(v.jsx)(A,{sx:{m:1},defaultChecked:!0,onChange:function(){t((function(e){return!e}))}})})})}var E=n(16),T=function(e){var t=e.eventList,n=e.setEventList,a=Object(c.useState)(!0),i=Object(u.a)(a,2),o=i[0],s=i[1],r=Object(c.useState)(!1),l=Object(u.a)(r,2),d=l[0],j=l[1];return Object(v.jsxs)("div",{className:"EventSelector",children:[Object(v.jsx)("div",{className:o?"Selector-Red":"DeSelector",onClick:function(){t.includes("wildfires")?(n((function(e){return e.filter((function(e){return"wildfires"!==e}))})),s(!1)):(n((function(e){return[].concat(Object(E.a)(e),["wildfires"])})),s(!0))},children:Object(v.jsx)(b.a,{icon:O.a,className:"location-icon L-Icon-Red"})}),Object(v.jsx)("div",{className:d?"Selector-Green":"DeSelector",onClick:function(){t.includes("volcanoes")?(n((function(e){return e.filter((function(e){return"volcanoes"!==e}))})),j(!1)):(n((function(e){return[].concat(Object(E.a)(e),["volcanoes"])})),j(!0))},children:Object(v.jsx)(b.a,{icon:f.a,className:"location-icon L-Icon-Green"})})]})},D=n(67),P=n.n(D),R=function(){return Object(v.jsxs)("div",{className:"FetchFailed",children:[Object(v.jsx)(b.a,{icon:P.a,className:"SadFace"}),Object(v.jsx)("br",{}),"We are experiencing some issues. Please try again later."]})};var B=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(!1),o=Object(u.a)(i,2),s=o[0],d=o[1],j=Object(c.useState)(!0),b=Object(u.a)(j,2),h=b[0],f=b[1],m=Object(c.useState)(["wildfires"]),O=Object(u.a)(m,2),x=O[0],g=O[1],p=Object(c.useState)(!1),w=Object(u.a)(p,2),k=w[0],I=w[1],L=Object(c.useState)(!0),M=Object(u.a)(L,2),N=M[0],y=M[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(l.a)(r.a.mark((function e(){var t,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,fetch("https://eonet.gsfc.nasa.gov/api/v3/events");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,c=n.events,a(c),d(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Promise.race([e(),new Promise((function(e,t){return setTimeout((function(){return t(new Error("timeout"))}),2e4)}))]).catch((function(){I(!0),d(!1)}))}),[]),Object(v.jsxs)("div",{children:[Object(v.jsx)(z,{}),k?Object(v.jsx)(R,{}):s?Object(v.jsx)(C,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(S,{eventData:n,theme:h,eventList:x,closedInfo:N,setClosedInfo:y}),Object(v.jsxs)("div",{className:"actionmenu",children:[Object(v.jsx)(F,{theme:h,setTheme:f}),Object(v.jsx)(T,{eventList:x,setEventList:g})]})]})]})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,109)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),i(e),o(e)}))};o.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(B,{})}),document.getElementById("root")),V()}},[[85,1,2]]]);
//# sourceMappingURL=main.e79df808.chunk.js.map